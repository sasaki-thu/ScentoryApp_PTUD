@{
    ViewData["Title"] = "Tinh Dầu";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="page-header py-5" style="background-color: #FFF7F1;">
    <div class="container text-center">
        <h1 class="section-title text-uppercase">Tinh Dầu</h1>
    </div>
</section>

<div class="container py-5">
    <div class="row">
        <!-- SIDEBAR BÊN TRÁI -->
        <div class="col-lg-3 col-md-4">
            <div class="shop-sidebar">

                <!-- 1. Lọc theo giá (Dạng thanh trượt) -->
                <div class="filter-group">
                    <h5 class="filter-title">Khoảng giá</h5>

                    @* <label for="priceRange" class="form-label text-muted small">Chọn mức giá tối đa:</label> *@
                    <!-- Thanh trượt Range Slider -->
                    <input type="range" class="form-range" min="0" max="5000000" step="100000" id="priceRange" oninput="updatePriceLabel(this.value)">

                    <div class="d-flex justify-content-between mt-2">
                        <span class="small text-muted">159.000đ</span>
                        <span class="small text-muted" id="currentMaxPrice">719.000đ</span> <!-- Giá trị mặc định ban đầu -->
                    </div>
                </div>

                <hr>
                <!-- 2. Lọc theo danh mục -->
                <div class="filter-group">
                    <h5 class="filter-title">Danh mục sản phẩm</h5>
                    <ul class="category-list">
                        <li>
                            <a href="#">Box quà <span class="category-count">(1)</span></a>
                        </li>
                        <li>
                            <a href="#">Hàng mới về <span class="category-count">(6)</span></a>
                        </li>
                        <li>
                            <a href="#">Nước hoa <span class="category-count">(8)</span></a>
                        </li>
                        <li>
                            <a href="#">Tinh dầu <span class="category-count">(4)</span></a>
                        </li>
                    </ul>
                </div>
                </hr>

                <hr>
                <!-- 3. Lọc theo dung tích -->
                <div class="filter-group">
                    <h5 class="filter-title">Dung tích</h5>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="vol1">
                        <label class="form-check-label" for="vol1">10ml</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="vol2">
                        <label class="form-check-label" for="vol2">50ml</label>
                    </div>
                </div>
                </hr>
            </div>
        </div>

        <!-- NỘI DUNG SẢN PHẨM BÊN PHẢI -->
        <div class="col-lg-9 col-md-8">
            <!-- Thanh sắp xếp (Optional) -->
            <div class="d-flex justify-content-between align-items-center mb-4">
                <span>Hiển thị tất cả sản phẩm</span>
                <select class="form-select w-auto">
                    <option>Sắp xếp mặc định</option>
                    <option>Sắp xếp theo giá: thấp đến cao</option>
                    <option>Sắp xếp theo giá: cao đến thấp</option>
                </select>
            </div>

            <!-- Lưới sản phẩm -->
            <div class="row">
                @* Giả sử Model là danh sách sản phẩm. 
                   Nếu chưa có dữ liệu thật, phần này sẽ không hiển thị gì hoặc lỗi.
                   Dưới đây là vòng lặp mẫu, bạn cần bỏ comment và chỉnh sửa property cho đúng với Model SanPham.cs của bạn 
                *@

                @* @foreach (var item in Model) { *@
                <!-- Bắt đầu vòng lặp sản phẩm (Mô phỏng 1 thẻ sản phẩm để hình dung) -->
                <!-- col-lg-3 tạo thành 4 cột trên màn hình lớn -->

                <div class="col-lg-3 col-md-6 col-6 mb-5">
                    <div class="product-card">
                        <div class="product-img-wrap">
                            <img src="~/assets/images/MK_XUÂN.png" alt="Tinh dầu Seviora – Spring (Xuân) 50ml | Scentory" class="img-fluid mb-3">
                        </div>
                        <div class="product-info">
                            <div class="price-wrap">
                                <span class="sale-price">349.000 ₫</span>
                                <span class="original-price">399.000 ₫</span>
                            </div>
                            <p class="product-title">Tinh dầu Seviora – Spring (Xuân) 50ml | Scentory</p>
                            <button class="btn btn-add-cart">
                                <i class="fa fa-shopping-cart"></i> Thêm vào giỏ hàng
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6 col-6 mb-5">
                    <div class="product-card">
                        <div class="product-img-wrap">
                            <img src="~/assets/images/MK_HẠ.png" alt="Tinh dầu Seviora – Smer (Xuân) 50ml | Scentory" class="img-fluid mb-3">
                        </div>
                        <div class="product-info">
                            <div class="price-wrap">
                                <span class="sale-price">349.000 ₫</span>
                                <span class="original-price">399.000 ₫</span>
                            </div>
                            <p class="product-title">Tinh dầu Seviora – Smer (Hạ) 50ml | Scentory</p>
                            <button class="btn btn-add-cart">
                                <i class="fa fa-shopping-cart"></i> Thêm vào giỏ hàng
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6 col-6 mb-5">
                    <div class="product-card">
                        <div class="product-img-wrap">
                            <img src="~/assets/images/MK_THU.png" alt="Tinh dầu Seviora – Atum (Thu) 50ml | Scentory" class="img-fluid mb-3">
                        </div>
                        <div class="product-info">
                            <div class="price-wrap">
                                <span class="sale-price">349.000 ₫</span>
                                <span class="original-price">399.000 ₫</span>
                            </div>
                            <p class="product-title">Tinh dầu Seviora – Atum (Thu) 50ml | Scentory</p>
                            <button class="btn btn-add-cart">
                                <i class="fa fa-shopping-cart"></i> Thêm vào giỏ hàng
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6 col-6 mb-5">
                    <div class="product-card">
                        <div class="product-img-wrap">
                            <img src="~/assets/images/MK_ĐÔNG.png" alt="Tinh dầu Seviora – Winter (Đông) 50ml | Scentory" class="img-fluid mb-3">
                        </div>
                        <div class="product-info">
                            <div class="price-wrap">
                                <span class="sale-price">349.000 ₫</span>
                                <span class="original-price">399.000 ₫</span>
                            </div>
                            <p class="product-title">Tinh dầu Seviora – Winter (Đông) 50ml | Scentory</p>
                            <button class="btn btn-add-cart">
                                <i class="fa fa-shopping-cart"></i> Thêm vào giỏ hàng
                            </button>
                        </div>
                    </div>
                </div>
                @* } *@
            </div>


            <!-- Phân trang (Pagination) -->
            <nav aria-label="Page navigation" class="mt-3">
                <ul class="pagination justify-content-center">
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1">←</a>
                    </li>
                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">→</a></li>
                </ul>
            </nav>
        </div>
    </div>
</div>



<style>
    /* Styling cho thẻ sản phẩm */
    .product-card {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .product-info {
        display: flex;
        flex-direction: column;
        flex-grow: 1;
    }

    /* Tên sản phẩm - text thường, màu đen */
    .product-title {
        min-height: 3em;
        margin-bottom: 10px;
        font-weight: normal;
        font-size: 1em;
        color: #000;
        text-align: center;
    }

    /* Căn giữa giá */
    .price-wrap {
        margin-bottom: auto;
        padding-bottom: 10px;
        text-align: center;
    }

    /* Giá sale màu đỏ */
    .sale-price {
        color: #dc3545;
        font-weight: bold;
        font-size: 1.1em;
        margin-right: 8px;
    }

    /* Giá niêm yết gạch ngang, size nhỏ hơn */
    .original-price {
        text-decoration: line-through;
        color: #999;
        font-size: 0.9em;
    }

    /* Nút Thêm vào giỏ hàng */
    .btn-add-cart {
        background-color: #c3a374;
        color: white;
        border: none;
        padding: 10px 15px;
        width: 100%;
        text-align: center;
        border-radius: 4px;
        transition: background-color 0.3s ease;
        margin-top: auto;
    }

        .btn-add-cart:hover {
            background-color: #a66b42;
            color: white;
        }

        .btn-add-cart i {
            margin-right: 5px;
        }

    /* Lọc theo dung tích - căn chỉnh checkbox */
    .filter-group .form-check {
        padding-left: 0;
        display: flex;
        align-items: center;
        margin-bottom: 8px;
    }

    .filter-group .form-check-input {
        margin-left: 0;
        margin-right: 5px;
        position: relative;
        flex-shrink: 0;
    }

    .filter-group .form-check-label {
        margin: 4px !important;
        padding: 0 !important;
        cursor: pointer;
    }

    .filter-group .form-check-input:checked {
        background-color: #c38154;
        border-color: #c38154;
    }

    .filter-group .form-check-input:focus {
        border-color: #c38154;
        box-shadow: 0 0 0 0.25rem rgba(195, 129, 84, 0.25);
    }

    /* Thanh lọc giá */
    .form-range::-webkit-slider-thumb {
        background: #C38154;
    }

    .form-range::-moz-range-thumb {
        background: #C38154;
    }

    .form-range::-ms-thumb {
        background: #C38154;
    }

    /* Khi hover vào thumb */
    .form-range::-webkit-slider-thumb:hover {
        background: #a66b42;
        transform: scale(1.2);
        box-shadow: 0 3px 6px rgba(0,0,0,0.3);
    }

    .form-range::-moz-range-thumb:hover {
        background: #a66b42;
        transform: scale(1.2);
        box-shadow: 0 3px 6px rgba(0,0,0,0.3);
    }

    /* Khi đang kéo (active) */
    .form-range:active::-webkit-slider-thumb {
        background: #8b5a35;
        transform: scale(1.3);
        box-shadow: 0 4px 8px rgba(0,0,0,0.4);
    }

    .form-range:active::-moz-range-thumb {
        background: #8b5a35;
        transform: scale(1.3);
        box-shadow: 0 4px 8px rgba(0,0,0,0.4);
    }

    /* Khi focus (sau khi thả chuột) */
    .form-range:focus::-webkit-slider-thumb {
        border-color: #C38154; /* Đổi viền thành màu cam sau khi chọn xong */
        box-shadow: 0 0 0 0.25rem rgba(195, 129, 84, 0.25);
    }

    .form-range:focus::-moz-range-thumb {
        border-color: #C38154;
        outline: none;
    }

    /* Pagination styling */
    .pagination {
        gap: 10px;
    }

        .pagination .page-item {
            margin: 0;
        }

        .pagination .page-link {
            color: #C38154;
            background-color: #fff;
            border: 2px solid #C38154;
            padding: 9px 16px;
            font-weight: 500;
            border-radius: 0;
            transition: all 0.3s ease;
            min-width: 50px;
            text-align: center;
        }

            .pagination .page-link:hover {
                color: #fff;
                background-color: #C38154;
                border-color: #C38154;
            }

        /* Trang đang active */
        .pagination .page-item.active .page-link {
            background-color: #C38154;
            border-color: #C38154;
            color: #fff;
            font-weight: bold;
        }

        /* Nút Trước và Sau */
        .pagination .page-item:first-child .page-link,
        .pagination .page-item:last-child .page-link {
            background-color: #fff;
            color: #C38154;
            border: 2px solid #C38154;
        }

            .pagination .page-item:first-child .page-link:hover,
            .pagination .page-item:last-child .page-link:hover {
                background-color: #C38154;
                color: #fff;
            }

        /* Disabled state */
        .pagination .page-item.disabled .page-link {
            color: #999;
            background-color: #f5f5f5;
            border-color: #ddd;
            cursor: not-allowed;
        }

        /* Remove border-radius */
        .pagination .page-link {
            border-radius: 0 !important;
        }
</style>
